# Part2. 분산 데이터
여러 장비 간 분산 데이터베이스가 필요한 이유

- 확장성: 부하를 여러 장비로 분배 가능
- 내결함성/고가용성: 장비하나가 죽더라도 다른애가 이어받아서 애플리케이션이 계속 동작 가능
- 지연시간: 지리적으로 가까운 곳의 데이터센터에서 서비스를 제공하면 더 빠르게 서비스 제공 가능.

## 고부하로 확장

1) 수직확장 = 용량확장 scale up

- 더 비싸고 좋은 장비를 사는 것.
- 공유 메모리 아키텍처(shared-memory architecture)
    - 성능이 올라가는 것에 비해 비용이 훨씬 더 많이 든다. (x2 CPU, x2 RAM, x2 디스크용량 이어도 비용은 x2보다 더 많이 듬) 병목현상 때문에 두배 크기의 장비가 두배의 부하를 처리할 수 있는 것도 아니야.
- 공유 디스크 아키텍처(shared-disk architecture)
    - 독립적인 CPU, RAM을 여러개 사용하지만 데이터 저장을 공유해서 함.
    - 여러 장비는 고속네트워크(네트워크 결합 스토리지. NAS 또는 스토리지 전용 네트워크. SAN)로 연결

2) 수평확장 = 규모확장. scale out

- 가격대비 성능 굿
- 비공유 아키텍처(shared-nothing)
    - 각 노드(장비)의 CPU, RAM, 디스크를 독립적으로 사용함.
    - 노드간 코디네이션은 (일반적인 네트워크를 사용해) 소프트웨어 수준에서 관리함.

### 여러 노드에 데이터를 분산하는 방법

[5. 복제](https://maisy.notion.site/5-03ebe6052d9b448488417c6e1a092b21)

- 같은 데이터의 복사본을 다른 위치에 있는 노드에 중복해서 유지함. 성능 향상에 도움 됨.
- 데이터셋이 작아서 각 장비에 전체 데이터셋의 복사본을 갖고있는다.

[6. 파티셔닝(샤딩)](https://maisy.notion.site/6-f7bb18c8193e4853b2a8c75e54c1ea4f)

- 큰 데이터베이스를 파티션이라는 작은 서브셋으로 나누고 각 파티션은 각기 다른 노드에 할당(**샤딩**)
- 단일장비에 넣기엔 너무 큰 데이터셋을 쪼개넣는다.

[7. 트랜잭션](https://maisy.notion.site/7-c12057d2a4ea4340bd4878c640c2759d)

[8. 분산시스템의 골칫거리](https://maisy.notion.site/8-b5bc50d24fbd480ea495228a671dd36d)

[9. 일관성과 합의](https://maisy.notion.site/9-01c3068e6b8c478c9fd035dfe0ba8729)